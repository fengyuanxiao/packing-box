{"version":3,"sources":["api/api.jsx","pages/home.jsx","pages/lists.jsx","App.js","reportWebVitals.js","index.js"],"names":["global","constants","website","allGuigeArrs","chongfuArr","storageIdArrs","storageMoneyArrs","Home","props","localStorage","getItem","setItem","useState","changeInputVals","setChangeInputVal","oneData","setOneData","twoData","setTwoData","threeData","setThreeData","storageId","setStorageId","storageMoney","setStorageMoney","storageBianhao","setStorageBianhao","storageImg","setStorageImg","storageDanwei","setStorageDanwei","twoValue","setTwoValue","threeValue","setThreeValue","sallGuigeArrs","setallGuigeArrs","clockState","setClockState","costPrice","setCostPrice","spinning","setSpinning","Option","Select","useEffect","axios","post","headers","AppAuthorization","then","res","data","status","msg","history","push","pathname","message","warning","catch","error","console","log","isModalVisible","setIsModalVisible","guigeObj","money","sum","sdr","config","top","style","height","tip","className","display","defaultValue","width","onChange","value","map","item","index","key","Object","keys","s","length","id","规格","j","i","单价","物料编号","img","单位","onClick","parseFloat","unshift","toFixed","type","ghost","Group","checkedValues","k","src","alignItems","join","window","location","reload","color","title","closable","visible","footer","e","target","placeholder","Lists","removeItem","listData","setListData","schemName","setSchemeName","functionName","setFunctionName","selectVal","setSelectVal","details","setDetails","dd","platform","permission","requestAuthCode","corpId","onSuccess","info","code","tokens","result","onFail","err","alert","JSON","stringify","state","document","marginRight","marginLeft","locale","emptyText","pagination","page","pageSize","itemLayout","dataSource","renderItem","Item","padding","Meta","plan_name","description","plan_type","total_price","href","onCancel","maxWidth","alt","物料名称","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.33daf2b4.chunk.js","sourcesContent":["global.constants = {\r\n  website:\"http://hd2020.py6.com\",                    //线上\r\n  // website: \"http://192.168.21.252\",                    //测试\r\n};\r\n\r\n// ,\r\n//   \"proxy\": \"http://hd2020.py6.com\"       此处放在package.json 文件 处理跨域\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Select, Button, Checkbox, Row, Col, Input, Spin, message, Image, Modal } from 'antd';\r\nimport { ExclamationCircleFilled } from '@ant-design/icons';\r\n\r\nimport '../api/api';\r\nimport './home.css';\r\n\r\nlet allGuigeArrs = [];       //存储选中规格的所有属性到对象，并追加到数组\r\n// 判断是否选中重复\r\nlet chongfuArr = [];\r\n\r\nlet storageIdArrs = [];     //储存选中按钮 选中的规格id\r\nlet storageMoneyArrs = [];\r\n\r\n\r\nfunction Home(props) {\r\n  // console.log(props);\r\n\r\n  // 判断从首页跳转，清空储存规格数组数据\r\n  if ( localStorage.getItem(\"n\") === '11' ) {\r\n  allGuigeArrs = [];       //存储选中规格的所有属性到对象，并追加到数组\r\n  chongfuArr = [];\r\n  // console.log(allGuigeArrs);\r\n  // console.log(chongfuArr);\r\n  localStorage.setItem(\"n\", 2);\r\n  }\r\n\r\n  // 一定要输入方案名\r\n  const [changeInputVals, setChangeInputVal] = useState(null);\r\n\r\n  // 储存的一级数据\r\n  const [oneData, setOneData] = useState(null);\r\n  // 储存获取到的二级分类数据\r\n  const [twoData, setTwoData] = useState(null);\r\n  // 储存获取到的三级分类数据\r\n  const [threeData, setThreeData] = useState(null);\r\n\r\n\r\n  // 储存选中包装盒的id\r\n  const [storageId, setStorageId] = useState(null);\r\n  // 储存选中包装盒的价格\r\n  const [storageMoney, setStorageMoney] = useState(null);\r\n  // 储存选中包装盒的物料编号\r\n  const [storageBianhao, setStorageBianhao] = useState(null);\r\n  // 储存选中规格的图片\r\n  const [storageImg, setStorageImg] = useState(null);\r\n  // 储存选中规格单位\r\n  const [storageDanwei, setStorageDanwei] = useState(null);\r\n\r\n  // 显示到多选框\r\n  const [twoValue, setTwoValue] = useState(null);\r\n  const [threeValue, setThreeValue] = useState(null);\r\n\r\n  const [sallGuigeArrs, setallGuigeArrs] = useState(null);\r\n\r\n  // 没有选择规格，却点击选中按钮 判断\r\n  const [clockState, setClockState] = useState(false);\r\n\r\n  // 成本价\r\n  const [costPrice, setCostPrice] = useState(0);\r\n  // loading\r\n  const [spinning, setSpinning] = useState(false);\r\n\r\n\r\n  const { Option } = Select;\r\n\r\n  useEffect(()=> {\r\n\r\n    // 获取主类\r\n    axios.post(global.constants.website+'/kaopin/bom/getCategory',{\r\n      'wuliao_type': '',\r\n      'cate_type': localStorage.getItem(\"state\"),\r\n    },\r\n    {\r\n      headers: {AppAuthorization: localStorage.getItem(\"token\")}    //post 方法传 token\r\n    })\r\n    .then(function (res) {\r\n      if ( res.data.status ) {\r\n\r\n        if ( res.data.msg === \"token error\" ) {\r\n          props.history.push({ pathname: \"/\" });\r\n  \r\n        } else {\r\n          \r\n          // 储存获取的主类数据\r\n          setOneData(res.data.data);\r\n          \r\n        }\r\n\r\n      } else {\r\n        message.warning(res.data.msg);\r\n      }\r\n      // console.log(res.data);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n    \r\n    \r\n  },[props.history]);\r\n\r\n  // 方案名对话框控制状态\r\n  const [isModalVisible, setIsModalVisible] = useState(true);\r\n\r\n  // 一定要输入方案名\r\n  function changeInputVal(e) {\r\n    // console.log(e.target.value);\r\n    setChangeInputVal(e.target.value);\r\n  }\r\n  const handleModalOk = () => { //关闭方案名对话框按钮\r\n\r\n    if ( changeInputVals ) {\r\n\r\n      // 控制方案名显示状态\r\n      setIsModalVisible(false);\r\n\r\n    }else {\r\n      message.warning('请输入方案名！');\r\n    }\r\n  };\r\n  \r\n\r\n  // 一级分类盒回调函数 次类\r\n  function handleChangeOne(value) {\r\n\r\n      // console.log(value);\r\n    // 获取次类\r\n    axios.post(global.constants.website+'/kaopin/bom/getCategory',{\r\n      'wuliao_type': value,\r\n      'cate_type': localStorage.getItem(\"state\"),\r\n    },\r\n    {\r\n      headers: {AppAuthorization: localStorage.getItem(\"token\")}    //post 方法传 token\r\n    })\r\n    .then(function (res) {\r\n      if ( res.data.status ) {\r\n\r\n        if ( res.data.msg === \"token error\" ) {\r\n          props.history.push({ pathname: \"/\" });\r\n  \r\n        } else {\r\n          \r\n          // 储存一级分类获取的二级分类数据\r\n          setTwoData(res.data.data);\r\n          // console.log(res.data.data);\r\n          \r\n        }\r\n\r\n      } else {\r\n        message.warning(res.data.msg);\r\n      }\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n\r\n    // console.log('******************************')\r\n  }\r\n\r\n  // 二级分类，次类\r\n  function handleChangeTwo(value) {\r\n    // console.log(`次类函数：${value}`);\r\n    // 储存二级分类选中的value\r\n    setTwoValue(value);\r\n    // 循环二级分类，得到键 值，判断二级分类函数回调的值是否等于当前值，则保存遍历三级分类\r\n    for (const key in twoData) {\r\n      if ( key === value ) {\r\n        setThreeData(twoData[key]);\r\n        // console.log(twoData[key]);\r\n      }\r\n    }\r\n\r\n    // console.log('******************************')\r\n  }\r\n\r\n  // 三级分类，规格select\r\n  function handleChangeThree(value) {\r\n\r\n    // 储存三级分类选中的value\r\n    for (let s = 0; s < threeData.length; s++) {\r\n      if ( threeData[s].id === value ) {\r\n        setThreeValue(threeData[s].规格);\r\n        // console.log(threeData[s].规格);\r\n      }\r\n      \r\n    }\r\n    \r\n    setClockState(true); //setClockState状态为false 无法选择规格\r\n\r\n    for (let j = 0; j < storageIdArrs.length; j++) {\r\n      \r\n      if ( chongfuArr[j] === value ) {\r\n\r\n        message.warning('规格重复！');\r\n        setClockState(false); //setClockState状态为false 无法选择规格\r\n\r\n      }else {\r\n        // console.log('继续');\r\n      }\r\n      \r\n    }\r\n\r\n    // 遍历二级类目下的数据，获取三级类目的规格数据\r\n    for (let i = 0; i < threeData.length; i++) {\r\n      if ( threeData[i].id === value ) {\r\n        // console.log(threeData[i].id);\r\n        // 储存规格id\r\n        setStorageId(threeData[i].id);\r\n        // 储存规格价格\r\n        setStorageMoney(threeData[i].单价);\r\n        // 储存规格编号\r\n        setStorageBianhao(threeData[i].物料编号);\r\n        // 储存规格图片\r\n        setStorageImg(threeData[i].img);\r\n        // 储存规格单位\r\n        setStorageDanwei(threeData[i].单位);\r\n\r\n      }\r\n    }\r\n    // console.log('*********************************');\r\n\r\n  }\r\n  \r\n  // 选择函数，选择将确定的规格存入数组中，后将遍历到eslect\r\n  let guigeObj = {};\r\n  // 选择添加成本价格\r\n  let money = 0;\r\n  function handleOk() {\r\n    // console.log(allGuigeArrs);\r\n\r\n    // console.log(\"点击了选择按钮\" + storageId);\r\n\r\n    if ( clockState ) {\r\n\r\n      // console.log( twoValue );      //包装名\r\n      // console.log( threeValue );    //规格\r\n      // console.log(storageBianhao);  //编号\r\n      // console.log( storageId );     //id\r\n      // console.log(storageMoney);    //单价\r\n      // console.log(storageDanwei);   //单位\r\n      // 储存规格所有数据到对象中\r\n      guigeObj.twoValue = twoValue;\r\n      guigeObj.threeValue = threeValue;\r\n      guigeObj.storageBianhao = storageBianhao;\r\n      guigeObj.storageId = storageId;\r\n      guigeObj.storageImg = storageImg;\r\n      guigeObj.storageDanwei = storageDanwei;\r\n      guigeObj.storageMoney = parseFloat(storageMoney);\r\n      // console.log(guigeObj);\r\n      // 将添加的多选框数据追加到数组中\r\n      allGuigeArrs.unshift(guigeObj);\r\n      setallGuigeArrs(allGuigeArrs);\r\n      // console.log(allGuigeArrs);\r\n\r\n      // 储存id 到数组\r\n      storageIdArrs.push(guigeObj.storageId);\r\n      // console.log(storageIdArrs);\r\n      // setStorageIdArrs(storageIdArrs.concat(newstorageIdArrss));\r\n\r\n      // 储存每个单价到数组\r\n      storageMoneyArrs.push(guigeObj.storageMoney);\r\n\r\n      // 计算成本价格的循环\r\n      for (let i = 0; i < storageMoneyArrs.length; i++) {\r\n        money += storageMoneyArrs[i];\r\n        \r\n      }\r\n      // 保留四位，储存总价\r\n      setCostPrice(money.toFixed(4));\r\n\r\n      // 判断是否重复用\r\n      chongfuArr.push(storageId);\r\n\r\n      // console.log(storageMoneyArrs);\r\n      // console.log(money);\r\n\r\n      setClockState(false); //setClockState状态为false 无法选择规格\r\n\r\n    }else {\r\n      message.warning('请选择规格！');\r\n    }\r\n    \r\n\r\n  }\r\n\r\n  // 多选框\r\n  let sum = 0;\r\n  let sdr = [];\r\n  function onChangea(checkedValues) {\r\n    // 将多选value 储给 storageIdArrs\r\n    storageIdArrs = checkedValues;\r\n\r\n    //多选储存新价格\r\n    for (let j = 0; j < allGuigeArrs.length; j++) {\r\n      for (let k = 0; k < checkedValues.length; k++) {\r\n        if ( allGuigeArrs[j].storageId === checkedValues[k] ) {\r\n          sdr.push(allGuigeArrs[j].storageMoney);\r\n          //多选储存新价格\r\n          sum += allGuigeArrs[j].storageMoney\r\n          \r\n          // storageMoneyArrs.splice(j);\r\n        }\r\n      }\r\n    }\r\n    storageMoneyArrs = sdr;\r\n    // 新的价格总价，替换旧的价格总价\r\n    money = sum;\r\n    // 多选价格更变储存\r\n    setCostPrice(sum.toFixed(4));\r\n    // setStorageIdArrs(allGuigeId.concat(storageIdArrs));\r\n\r\n    // console.log(allGuigeArrs);\r\n    // console.log(checkedValues);\r\n    // console.log(`新价格数组${sdr}`);\r\n    // console.log(`旧价格数组${storageMoneyArrs}`);\r\n    // console.log(`旧总价格${money}`);\r\n    // console.log(`新总价格${sum}`);\r\n  }\r\n\r\n  // 保存按钮 并调用ajax\r\n  function handlePreservation() {\r\n\r\n    // 传入id数组\r\n    // console.log(storageIdArrs);\r\n    // true 遮罩显示\r\n    setSpinning(true);\r\n\r\n    axios.post(global.constants.website+'/kaopin/bom/add',{\r\n      'details': storageIdArrs.join(\",\"),           //传入的id\r\n      'plan_name': changeInputVals,                 //计划名称\r\n      'plan_type': localStorage.getItem(\"state\"),   //包装类型\r\n      'total_price': costPrice,                     //总价格\r\n    },\r\n    {\r\n      headers: {AppAuthorization: localStorage.getItem(\"token\")}    //post 方法传 token\r\n    })\r\n    .then(function (res) {\r\n      if ( res.data.status ) {\r\n\r\n        if ( res.data.msg === \"token error\" ) {\r\n          props.history.push({ pathname: \"/\" });\r\n  \r\n        } else {\r\n          \r\n          message.warning(res.data.msg);\r\n          setSpinning(false);\r\n          // 刷新页面\r\n          window.location.reload();\r\n          \r\n        }\r\n\r\n      } else {\r\n        message.warning(res.data.msg);\r\n        // 更改loding状态\r\n        setSpinning(false);\r\n      }\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n      // 更改loding状态\r\n      setSpinning(false);\r\n    });\r\n\r\n  }message.config({ //更改警告框的位置\r\n  top: '40%',\r\n});\r\n\r\n\r\n  return(\r\n    <div style={{ height: '100%' }}>\r\n      <Spin spinning={spinning} tip=\"Loading...\">\r\n        <header className='header'>{changeInputVals} —【{localStorage.getItem(\"state\") === '2' ? \"后道\" : \"发货\"}】</header>\r\n        <div className='box'>\r\n          <div style ={{ height: '15%' }}>\r\n            {/* 一级分类盒 */}\r\n            <div style={{ display: 'flex' }}>\r\n              <Select className=\"select_one\" defaultValue=\"主类\" style={{ width: 140 }} onChange={handleChangeOne}>\r\n                {\r\n                  oneData ?\r\n                    oneData.map((item, index) =>{\r\n                      return(\r\n                        <Option key={index} value={item}>{item}</Option>\r\n                      )\r\n                    })\r\n                  :\r\n                    ''\r\n                }\r\n              </Select>\r\n              {/* 二级分类,次类 具体商品盒 */}\r\n              <Select defaultValue=\"次类\" style={{ width: 220 }} onChange={handleChangeTwo}>\r\n                {\r\n                  twoData ?\r\n                  Object.keys(twoData).map((key, index) => {\r\n                    return(\r\n                      <Option key={index} value={key}>{key}</Option>\r\n                    )\r\n                  })\r\n                  :\r\n                  \"\"\r\n                }\r\n              </Select>\r\n            </div>\r\n            {/* 三级分类,规格 */}\r\n            <div className=\"specification\">\r\n              <Select className=\"select_three\" defaultValue=\"规格\" style={{ width: 280 }} onChange={handleChangeThree}>\r\n                {\r\n                  threeData ?\r\n                    threeData.map((item, index) => {\r\n                      return(\r\n                        <Option key={index} value={item.id}>{item.规格 + \"￥\" + item.单价 + \"/\" + item.单位}</Option>\r\n                      )\r\n                    })\r\n                  :\r\n                    \"\"\r\n                }\r\n              </Select>\r\n              <Button onClick={handleOk} className=\"select_btn\" type=\"primary\" ghost={true}>选择</Button>\r\n            </div>\r\n          </div>\r\n          {/* 多选框 */}\r\n          <div className=\"specification_pull_down\">\r\n            {/*  defaultValue={storageIdArrs} */}\r\n            <Checkbox.Group value={storageIdArrs} style={{ width: '100%' }} onChange={onChangea}>\r\n              <Row>\r\n                {\r\n                  sallGuigeArrs ?\r\n                    sallGuigeArrs.map((item, index) => {\r\n                      // console.log(item);\r\n                      return(\r\n                        <Col key={index}>\r\n                        <Image\r\n                          src={item.storageImg}\r\n                          className=\"homeImg\"\r\n                        />\r\n                          <Checkbox style={{ display: 'flex', alignItems: 'center' }} value={item.storageId}>\r\n                            <div className=\"guige\">\r\n                              {/* <img src={item.storageImg} alt=\"规格图\"/> */}\r\n                              <p>{item.twoValue + item.threeValue + '￥' + item.storageMoney + '/' + item.storageDanwei }</p>\r\n                            </div>\r\n                          </Checkbox>\r\n                        </Col>\r\n                      )\r\n                    })\r\n                  :\r\n                    \"\"\r\n                }\r\n              </Row>\r\n            </Checkbox.Group>\r\n\r\n          </div>\r\n\r\n          <footer className=\"footer\">\r\n            <div className=\"footer_child2\">\r\n              {/* <Input onChange={handleInputVal} style={{ width: 250, marginRight: '17px', borderRadius: '7px' }} placeholder=\"请输入包装方案名\" /> */}\r\n              <Button onClick={handlePreservation} className=\"select_btn\" type=\"primary\">保存选择</Button>\r\n            </div>\r\n            <div className='moneys'>\r\n              <ExclamationCircleFilled style={{ color: 'red' }} />\r\n              <div className=\"e\">总成本：{costPrice}</div>\r\n            </div>\r\n          </footer>\r\n        </div>\r\n        \r\n\r\n      </Spin>\r\n      {/* 弹框输入方案名 */}\r\n          <Modal className=\"modealInput\" title={localStorage.getItem(\"state\") === '2' ? \"请输入后道包装名！\" : \"请输入发货包装名！\"} closable={false} visible={isModalVisible} footer={[\r\n            <Button key=\"back\" type=\"primary\" onClick={handleModalOk}>确定</Button>,\r\n          ]}>\r\n        <Input onChange={changeInputVal} placeholder=\"请输入包装方案名：\" />\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home;","import React, { useEffect, useState } from 'react';\r\nimport { Button, Divider, List, message, Input, Select, Spin, Modal } from 'antd';\r\nimport axios from 'axios';\r\nimport * as dd from 'dingtalk-jsapi';\r\n\r\nimport '../api/api';\r\nimport './lists.css';\r\n\r\n// 列表数据\r\nconst data = [\r\n  {\r\n    title: '暂无数据',\r\n  }\r\n];\r\n\r\n\r\nfunction Lists(props) {\r\n  localStorage.setItem(\"ns\", 1);\r\n  localStorage.removeItem(\"n\");\r\n\r\n  const { Option } = Select;\r\n\r\n  // 储存获取的列表数据\r\n  const [listData, setListData] = useState([]);\r\n  // 储存方案名\r\n  const [schemName, setSchemeName] = useState(false);\r\n  // 储存功能名\r\n  const [functionName, setFunctionName] = useState(false);\r\n  // 功用select value\r\n  const [selectVal, setSelectVal] = useState('选择功用');\r\n  // loading\r\n  const [spinning, setSpinning] = useState(true);\r\n  // 详情对话框弹出状态，默认为false\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  // 储存获取的列表详情\r\n  const [details, setDetails] = useState(null);\r\n\r\n  // 生命周期\r\n  useEffect(() => {\r\n\r\n    // 钉钉判断\r\n    if ( dd.env.platform !== 'notInDingTalk' ) {  //是否在钉钉环境中\r\n\r\n      dd.ready(function() {\r\n\r\n        dd.runtime.permission.requestAuthCode({\r\n          corpId: \"dingd3db415677f4c851\",\r\n          onSuccess: function(info) {\r\n            // code = info.code // 通过该免登授权码可以获取用户身份\r\n  \r\n            // 调用获取token\r\n            axios.post(global.constants.website+'/kaopin/bom/getUser',{\r\n              'code': info.code,  // 通过该免登授权码可以获取用户身份\r\n            })\r\n            .then(function (res) {\r\n              let tokens = res.data.data;\r\n              // 获取 存储token\r\n              localStorage.setItem(\"token\", res.data.data);\r\n              \r\n              if ( res.status === 200 ) {\r\n  \r\n                // token 获取成功调用获取列表 ajax\r\n                axios.post(global.constants.website+'/kaopin/bom/index',{\r\n                  'page': 1,\r\n                },\r\n                {\r\n                  headers: {AppAuthorization: tokens}    //post 方法传 token\r\n                })\r\n                .then(function (res) {\r\n                  // console.log(res);\r\n                  if ( res.data.status ) {\r\n                    if ( res.data.msg === \"token error\" ) {\r\n                      props.history.push({ pathname: \"/\" });\r\n  \r\n                    } else {\r\n                      setSpinning(false);\r\n                      // 储存获取list数据\r\n                      setListData(res.data.data.result);\r\n                      \r\n                    }\r\n  \r\n                  } else {\r\n                    props.history.push({ pathname: \"/\" });\r\n                    message.warning(res.data.msg);\r\n                  }\r\n                  // console.log(res.data);\r\n                })\r\n                .catch(function (error) {\r\n                  // props.history.push({ pathname: \"/\" });\r\n                  message.warning(error);\r\n                  // setSpinning(false);\r\n                });\r\n        \r\n              } else {\r\n                message.warning(res.data.msg);\r\n              }\r\n              // console.log(res.data);\r\n            })\r\n            .catch(function (error) {\r\n              console.log(error);\r\n            });\r\n          },\r\n          onFail : function(err) {\r\n            alert(err);\r\n          }\r\n      \r\n        });\r\n\r\n        dd.error(function(error){\r\n          /**\r\n           {\r\n              errorMessage:\"错误信息\",// errorMessage 信息会展示出钉钉服务端生成签名使用的参数，请和您生成签名的参数作对比，找出错误的参数\r\n              errorCode: \"错误码\"\r\n           }\r\n          **/\r\n          alert('dd error: ' + JSON.stringify(error));\r\n        });\r\n\r\n      });\r\n\r\n    } else {\r\n      message.warning('请在手机上打开操作！');\r\n    }\r\n\r\n    // // token 获取成功调用获取列表 ajax      测试用\r\n    // axios.post(global.constants.website+'/kaopin/bom/index',{\r\n    //   'page': 1,\r\n    // },\r\n    // {\r\n    //   headers: {AppAuthorization: localStorage.getItem(\"token\")}    //post 方法传 token\r\n    // })\r\n    // .then(function (res) {\r\n    //   // console.log(res);\r\n    //   if ( res.data.status ) {\r\n    //     if ( res.data.msg === \"token error\" ) {\r\n    //       props.history.push({ pathname: \"/\" });\r\n\r\n    //     } else {\r\n    //       setSpinning(false);\r\n    //       // 储存获取list数据\r\n    //       setListData(res.data.data.result);\r\n          \r\n    //     }\r\n\r\n    //   } else {\r\n    //     props.history.push({ pathname: \"/\" });\r\n    //     message.warning(res.data.msg);\r\n    //   }\r\n    //   // console.log(res.data);\r\n    // })\r\n    // .catch(function (error) {\r\n    //   // props.history.push({ pathname: \"/\" });\r\n    //   message.warning(error);\r\n    //   // setSpinning(false);\r\n    // });\r\n    \r\n    \r\n\r\n  },[props.history]);\r\n\r\n// 后道按钮\r\nfunction handleHoudao() {\r\n  // console.log('添加后道包装2');\r\n\r\n  localStorage.setItem(\"n\", localStorage.getItem(\"ns\") + 1);\r\n  props.history.push({ pathname: \"/home\", state: 2 });\r\n  \r\n  // 添加厚道包装储存状态码\r\n  localStorage.setItem(\"state\", 2);\r\n  // 标题头\r\n  document.title = \"后道包装\";\r\n  // console.log(document.title);\r\n}\r\n// 发货按钮\r\nfunction handleFahuo() {\r\n  // console.log(\"添加发货包装1\");\r\n\r\n  localStorage.setItem(\"n\", localStorage.getItem(\"ns\") + 1);\r\n  props.history.push({ pathname: \"/home\", state: 1 });\r\n\r\n  // 添加厚道包装储存状态码\r\n  localStorage.setItem(\"state\", 1);\r\n  // 标题头\r\n  document.title = \"发货包装\";\r\n  // console.log(document.title);\r\n  \r\n}\r\n\r\n// input 方案名 value\r\nfunction nameChange(e) {\r\n  // 储存方案名\r\n  setSchemeName(e.target.value);\r\n\r\n  // 方案名input 删除为空的时候，重新获取列表数据\r\n  if ( !e.target.value ) {\r\n    \r\n    setSpinning(true);\r\n    // 获取列表\r\n    axios.post(global.constants.website+'/kaopin/bom/index',{\r\n      'page': 1,\r\n    },\r\n    {\r\n      headers: {AppAuthorization: localStorage.getItem(\"token\")}    //post 方法传 token\r\n    })\r\n    .then(function (res) {\r\n      if ( res.data.status ) {\r\n        \r\n        if ( res.data.msg === \"token error\" ) {\r\n          props.history.push({ pathname: \"/\" });\r\n\r\n        } else {\r\n          setSpinning(false);\r\n          // console.log(res.data.data.result);\r\n          // console.log(res.data.data);\r\n          // 储存获取list数据\r\n          setListData(res.data.data.result);\r\n          \r\n        }\r\n\r\n      } else {\r\n        message.warning(res.data.msg);\r\n      }\r\n      // console.log(res.data);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n      setSpinning(false);\r\n    });\r\n\r\n  }\r\n  // console.log(e.target.value);\r\n}\r\n// select，选择后道或者发货\r\nfunction handleChange(value) {\r\n  // 储存功能值\r\n  setFunctionName(value);\r\n  // 更改功用选中默认\r\n  setSelectVal(value);\r\n  // console.log(`selected ${value}`);\r\n}\r\n// 搜索按钮\r\nfunction handleSearch() {\r\n  // 更改功用选中默认\r\n  // setSelectVal('选择功用');\r\n\r\n  if ( schemName === false && functionName === false ) {\r\n\r\n    message.warning('请输入方案名或功用！');\r\n  \r\n  }else if ( schemName && functionName ) {\r\n    // console.log('上面名字加功用');\r\n\r\n    setSpinning(true);\r\n    // 获取方案名指定列表列表\r\n    axios.post(global.constants.website+'/kaopin/bom/index',{\r\n      'page': 1,\r\n      'plan_name': schemName,\r\n      'plan_type': functionName,\r\n    },\r\n    {\r\n      headers: {AppAuthorization: localStorage.getItem(\"token\")}    //post 方法传 token\r\n    })\r\n    .then(function (res) {\r\n      if ( res.data.status ) {\r\n\r\n        if ( res.data.data.result.length ) {\r\n\r\n          if ( res.data.msg === \"token error\" ) {\r\n            props.history.push({ pathname: \"/\" });\r\n  \r\n          } else {\r\n\r\n            setSpinning(false);\r\n            // console.log(res.data.data.result);\r\n            // 储存获取list数据\r\n            setListData(res.data.data.result);\r\n\r\n            // 更改功用默认值\r\n            setSelectVal('选择功用');\r\n            setFunctionName(false);\r\n            \r\n          }\r\n          \r\n\r\n        }else {\r\n          \r\n          setSpinning(false);\r\n          // 更改功用默认值\r\n          setSelectVal('选择功用');\r\n          setFunctionName(false);\r\n          message.warning('暂无该数据！');\r\n        }\r\n\r\n      } else {\r\n        message.warning(res.data.msg);\r\n      }\r\n      // console.log(res.data);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n      setSpinning(false);\r\n    });\r\n\r\n  }else if ( schemName === false || functionName ) {\r\n\r\n    setSpinning(true);\r\n    // 获取发货列表\r\n    axios.post(global.constants.website+'/kaopin/bom/index',{\r\n      'page': 1,\r\n      'plan_name': '',\r\n      'plan_type': functionName,\r\n    },\r\n    {\r\n      headers: {AppAuthorization: localStorage.getItem(\"token\")}    //post 方法传 token\r\n    })\r\n    .then(function (res) {\r\n      if ( res.data.status ) {\r\n\r\n        if ( res.data.data.result.length ) {\r\n\r\n          // console.log(res.data.data);\r\n\r\n          if ( res.data.msg === \"token error\" ) {\r\n            props.history.push({ pathname: \"/\" });\r\n  \r\n          } else {\r\n\r\n            setSpinning(false);\r\n            // console.log(res.data.data.result);\r\n            // 储存获取list数据\r\n            // 更改功用默认值\r\n            setSelectVal('选择功用');\r\n            setFunctionName(false);\r\n            setListData(res.data.data.result);\r\n            \r\n          }\r\n          \r\n\r\n        }else {\r\n          \r\n          setSpinning(false);\r\n          // 更改功用默认值\r\n          setSelectVal('选择功用');\r\n          setFunctionName(false);\r\n          message.warning('暂无该数据！');\r\n        }\r\n\r\n      } else {\r\n        message.warning(res.data.msg);\r\n      }\r\n      // console.log(res.data);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n      setSpinning(false);\r\n    });\r\n\r\n  }else {\r\n\r\n    setSpinning(true);\r\n    // 获取发货列表\r\n    axios.post(global.constants.website+'/kaopin/bom/index',{\r\n      'page': 1,\r\n      'plan_name': schemName,\r\n      'plan_type': '',\r\n    },\r\n    {\r\n      headers: {AppAuthorization: localStorage.getItem(\"token\")}    //post 方法传 token\r\n    })\r\n    .then(function (res) {\r\n      if ( res.data.status ) {\r\n\r\n        if ( res.data.data.result.length ) {\r\n\r\n          // console.log(res.data.data);\r\n\r\n          if ( res.data.msg === \"token error\" ) {\r\n            props.history.push({ pathname: \"/\" });\r\n  \r\n          } else {\r\n\r\n            setSpinning(false);\r\n            // console.log(res.data.data.result);\r\n            // 储存获取list数据\r\n            // 更改功用默认值\r\n            setSelectVal('选择功用');\r\n            setFunctionName(false);\r\n            setListData(res.data.data.result);\r\n            \r\n          }\r\n          \r\n\r\n        }else {\r\n          \r\n          setSpinning(false);\r\n          // 更改功用默认值\r\n          setSelectVal('选择功用');\r\n          setFunctionName(false);\r\n          message.warning('暂无该数据！');\r\n        }\r\n\r\n      } else {\r\n        message.warning(res.data.msg);\r\n      }\r\n      // console.log(res.data);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n      setSpinning(false);\r\n    });\r\n\r\n  }\r\n  \r\n  // schemName\r\n  // functionName\r\n}\r\n\r\n// 点击当前list 获取当前列表详情\r\nfunction delItem(id) {\r\n  \r\n  // 点击列表获取对应详情是，加载logding\r\n  setSpinning(true);\r\n  // console.log(id);\r\n  axios.post(global.constants.website+'/kaopin/bom/details',{\r\n    'id': id,\r\n  },\r\n  {\r\n    headers: {AppAuthorization: localStorage.getItem(\"token\")}    //post 方法传 token\r\n  })\r\n  .then(function (res) {\r\n\r\n    if ( res.data.status ) {\r\n\r\n      if ( res.data.msg === \"token error\" ) {\r\n        props.history.push({ pathname: \"/\" });\r\n\r\n      } else {\r\n        \r\n        // 更改详情对话框状态，true 为显示\r\n        setIsModalVisible(true);\r\n        // 详情获取成功lognding也将改成false\r\n        setSpinning(false);\r\n        // console.log(res.data.data);\r\n        // 储存列表详情数据\r\n        setDetails(res.data.data);\r\n        \r\n      }\r\n\r\n    } else {\r\n      message.warning(res.data.msg);\r\n    }\r\n    // console.log(res.data);\r\n  })\r\n  .catch(function (error) {\r\n    console.log(error);\r\n  });\r\n}\r\n\r\n// 对话框 确定按钮，和取消按钮\r\nconst handleOk = () => {\r\n\r\n  setIsModalVisible(false);\r\n  \r\n};\r\nconst handleCancel = () => {\r\n  setIsModalVisible(false);\r\n};\r\n\r\nmessage.config({ //更改警告框的位置\r\n  top: '40%',\r\n});\r\n  \r\n  return(\r\n    <div style={{ height: '100%' }}>\r\n      <div className='box' style={{ height: '100%' }}>\r\n        <div style={{ height:'16.5%' }}>\r\n          <div className=\"list_Header\">\r\n            <Button onClick={handleHoudao} className=\"select_btn\" type=\"primary\" ghost={true} >添加后道包装</Button>\r\n\r\n            <Button onClick={handleFahuo} className=\"select_btn\" type=\"primary\" ghost={true} >添加发货包装</Button>\r\n          </div>\r\n          \r\n          <Divider />\r\n          {/* 搜索框 */}\r\n          <div className=\"sousuo\">\r\n            <Input style={{ width:'160px' }} placeholder=\"请输入方案名\" onChange={nameChange} />\r\n            <Select value={selectVal} style={{ width: 110, marginRight:'5px', marginLeft:'5px' }} onChange={handleChange}>\r\n              <Option value=\"2\">后道</Option>\r\n              <Option value=\"1\">发货</Option>\r\n            </Select>\r\n            <Button onClick={handleSearch}>搜索</Button>\r\n          </div>\r\n        </div>\r\n        {/* 列表 */}\r\n        <div className=\"lists\" style={{ height: '80%' }}>\r\n          <Spin spinning={spinning} tip=\"列表加载中...\">\r\n            {\r\n              listData !== null ?\r\n              <List style={{ height: '100%' }}\r\n                locale={{emptyText: \"暂无该数据\"}}\r\n                pagination={{\r\n                  onChange: page => {\r\n                      // console.log(page);\r\n                    },\r\n                    pageSize: 8,\r\n                }}\r\n                itemLayout=\"horizontal\"\r\n                dataSource={listData}\r\n                renderItem={item => (\r\n                  <List.Item onClick={() => delItem(item.id) } style={{ padding: '10px 0' }}>\r\n                    <List.Item.Meta\r\n                      title={item.plan_name}\r\n                      description={item.plan_type + \"　\" + \"￥\" + item.total_price}\r\n                    />\r\n                  </List.Item>\r\n                )}\r\n              />\r\n              :\r\n              <List\r\n                itemLayout=\"horizontal\"\r\n                dataSource={data}\r\n                renderItem={item => (\r\n                  <List.Item>\r\n                    <List.Item.Meta\r\n                      // avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n                      title={<a href=\"https://ant.design\">{item.plan_name}</a>}\r\n                    />\r\n                  </List.Item>\r\n                )}\r\n              />\r\n            }\r\n          </Spin>\r\n        </div>\r\n      </div>\r\n      \r\n        {\r\n          details !== null ?\r\n            <Modal title={details.plan_name} footer={[\r\n              <Button key=\"back\" type=\"primary\" onClick={handleOk}>确定</Button>,\r\n            ]} onCancel={handleCancel} visible={isModalVisible}>\r\n              {\r\n                details.details.map((item, index) => {\r\n                  return(\r\n                    <div className=\"details\" key={index}>\r\n                      <div style={{ maxWidth: '60px', marginRight: '15px' }}>\r\n                        <img src={item.img} alt=\"详情图\"/>\r\n                      </div>\r\n                      <p>\r\n                        {item.物料名称 + item.规格 + \"￥\" + item.单价 + \"/\" + item.单位}\r\n                      </p>\r\n                    </div>\r\n                  )\r\n                })\r\n              }\r\n            </Modal>\r\n          :\r\n          \"\"\r\n        }\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Lists;","import { HashRouter as Router, Route } from 'react-router-dom';\n\nimport Home from './pages/home';\nimport Lists from './pages/lists';\n\n\nfunction App() {\n  return (\n    <Router>\n      <div style={{ height: '100%' }}>\n        <Route exact path=\"/\" component={Lists} />\n        <Route path=\"/Home\" component={Home} />\n        {/* <Home/> */}\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}