(this["webpackJsonppacking-box"]=this["webpackJsonppacking-box"]||[]).push([[0],{130:function(t,e,a){(function(t){t.constants={website:"http://hd2020.py6.com"}}).call(this,a(56))},145:function(t,e,a){"use strict";(function(t){var n=a(22),s=a(8),c=a(0),o=a(47),i=a.n(o),l=a(53),r=a(24),d=a(107),h=a(36),u=a(176),b=a(483),g=a(485),j=a(488),p=a(174),m=a(175),O=a(489),f=(a(130),a(200),[]),x=[],y=[],S=[];e.a=function(e){"11"===localStorage.getItem("n")&&(f=[],x=[],localStorage.setItem("n",2));var a=Object(c.useState)(null),o=Object(n.a)(a,2),v=o[0],w=o[1],k=Object(c.useState)(null),I=Object(n.a)(k,2),_=I[0],C=I[1],N=Object(c.useState)(null),A=Object(n.a)(N,2),z=A[0],F=A[1],M=Object(c.useState)(null),V=Object(n.a)(M,2),L=V[0],D=V[1],T=Object(c.useState)(null),B=Object(n.a)(T,2),E=B[0],J=B[1],H=Object(c.useState)(null),P=Object(n.a)(H,2),R=P[0],q=P[1],G=Object(c.useState)(null),U=Object(n.a)(G,2),W=U[0],K=U[1],Q=Object(c.useState)(null),X=Object(n.a)(Q,2),Y=X[0],Z=X[1],$=Object(c.useState)(null),tt=Object(n.a)($,2),et=tt[0],at=tt[1],nt=Object(c.useState)(null),st=Object(n.a)(nt,2),ct=st[0],ot=st[1],it=Object(c.useState)(null),lt=Object(n.a)(it,2),rt=lt[0],dt=lt[1],ht=Object(c.useState)(null),ut=Object(n.a)(ht,2),bt=ut[0],gt=ut[1],jt=Object(c.useState)(!1),pt=Object(n.a)(jt,2),mt=pt[0],Ot=pt[1],ft=Object(c.useState)(0),xt=Object(n.a)(ft,2),yt=xt[0],St=xt[1],vt=Object(c.useState)(!1),wt=Object(n.a)(vt,2),kt=wt[0],It=wt[1],_t=l.a.Option;Object(c.useEffect)((function(){i.a.post(t.constants.website+"/kaopin/bom/getCategory",{wuliao_type:"",cate_type:localStorage.getItem("state")},{headers:{AppAuthorization:localStorage.getItem("token")}}).then((function(t){t.data.status?"token error"===t.data.msg?e.history.push({pathname:"/"}):C(t.data.data):r.b.warning(t.data.msg)})).catch((function(t){console.log(t)}))}),[e.history]);var Ct=Object(c.useState)(!0),Nt=Object(n.a)(Ct,2),At=Nt[0],zt=Nt[1],Ft={},Mt=0,Vt=0,Lt=[];return r.b.config({top:"40%"}),Object(s.jsxs)("div",{style:{height:"100%"},children:[Object(s.jsxs)(d.a,{spinning:kt,tip:"Loading...",children:[Object(s.jsxs)("header",{className:"header",children:[v," \u2014\u3010","2"===localStorage.getItem("state")?"\u540e\u9053":"\u53d1\u8d27","\u3011"]}),Object(s.jsxs)("div",{className:"box",children:[Object(s.jsxs)("div",{style:{height:"15%"},children:[Object(s.jsxs)("div",{style:{display:"flex"},children:[Object(s.jsx)(l.a,{className:"select_one",defaultValue:"\u4e3b\u7c7b",style:{width:140},onChange:function(a){i.a.post(t.constants.website+"/kaopin/bom/getCategory",{wuliao_type:a,cate_type:localStorage.getItem("state")},{headers:{AppAuthorization:localStorage.getItem("token")}}).then((function(t){t.data.status?"token error"===t.data.msg?e.history.push({pathname:"/"}):F(t.data.data):r.b.warning(t.data.msg)})).catch((function(t){console.log(t)}))},children:_?_.map((function(t,e){return Object(s.jsx)(_t,{value:t,children:t},e)})):""}),Object(s.jsx)(l.a,{defaultValue:"\u6b21\u7c7b",style:{width:220},onChange:function(t){for(var e in ot(t),z)e===t&&D(z[e])},children:z?Object.keys(z).map((function(t,e){return Object(s.jsx)(_t,{value:t,children:t},e)})):""})]}),Object(s.jsxs)("div",{className:"specification",children:[Object(s.jsx)(l.a,{className:"select_three",defaultValue:"\u89c4\u683c",style:{width:280},onChange:function(t){for(var e=0;e<L.length;e++)L[e].id===t&&dt(L[e].\u89c4\u683c);Ot(!0);for(var a=0;a<y.length;a++)x[a]===t&&(r.b.warning("\u89c4\u683c\u91cd\u590d\uff01"),Ot(!1));for(var n=0;n<L.length;n++)L[n].id===t&&(J(L[n].id),q(L[n].\u5355\u4ef7),K(L[n].\u7269\u6599\u7f16\u53f7),Z(L[n].img),at(L[n].\u5355\u4f4d))},children:L?L.map((function(t,e){return Object(s.jsx)(_t,{value:t.id,children:t.\u89c4\u683c+"\uffe5"+t.\u5355\u4ef7+"/"+t.\u5355\u4f4d},e)})):""}),Object(s.jsx)(h.a,{onClick:function(){if(mt){Ft.twoValue=ct,Ft.threeValue=rt,Ft.storageBianhao=W,Ft.storageId=E,Ft.storageImg=Y,Ft.storageDanwei=et,Ft.storageMoney=parseFloat(R),f.unshift(Ft),gt(f),y.push(Ft.storageId),S.push(Ft.storageMoney);for(var t=0;t<S.length;t++)Mt+=S[t];St(Mt.toFixed(4)),x.push(E),Ot(!1)}else r.b.warning("\u8bf7\u9009\u62e9\u89c4\u683c\uff01")},className:"select_btn",type:"primary",ghost:!0,children:"\u9009\u62e9"})]})]}),Object(s.jsx)("div",{className:"specification_pull_down",children:Object(s.jsx)(u.a.Group,{value:y,style:{width:"100%"},onChange:function(t){y=t;for(var e=0;e<f.length;e++)for(var a=0;a<t.length;a++)f[e].storageId===t[a]&&(Lt.push(f[e].storageMoney),Vt+=f[e].storageMoney);S=Lt,Mt=Vt,St(Vt.toFixed(4))},children:Object(s.jsx)(b.a,{children:bt?bt.map((function(t,e){return Object(s.jsxs)(g.a,{children:[Object(s.jsx)(j.a,{src:t.storageImg,className:"homeImg"}),Object(s.jsx)(u.a,{style:{display:"flex",alignItems:"center"},value:t.storageId,children:Object(s.jsx)("div",{className:"guige",children:Object(s.jsx)("p",{children:t.twoValue+t.threeValue+"\uffe5"+t.storageMoney+"/"+t.storageDanwei})})})]},e)})):""})})}),Object(s.jsxs)("footer",{className:"footer",children:[Object(s.jsx)("div",{className:"footer_child2",children:Object(s.jsx)(h.a,{onClick:function(){It(!0),i.a.post(t.constants.website+"/kaopin/bom/add",{details:y.join(","),plan_name:v,plan_type:localStorage.getItem("state"),total_price:yt},{headers:{AppAuthorization:localStorage.getItem("token")}}).then((function(t){t.data.status?"token error"===t.data.msg?e.history.push({pathname:"/"}):(r.b.warning(t.data.msg),It(!1),window.location.reload()):(r.b.warning(t.data.msg),It(!1))})).catch((function(t){console.log(t),It(!1)}))},className:"select_btn",type:"primary",children:"\u4fdd\u5b58\u9009\u62e9"})}),Object(s.jsxs)("div",{className:"moneys",children:[Object(s.jsx)(O.a,{style:{color:"red"}}),Object(s.jsxs)("div",{className:"e",children:["\u603b\u6210\u672c\uff1a",yt]})]})]})]})]}),Object(s.jsx)(p.a,{className:"modealInput",title:"2"===localStorage.getItem("state")?"\u8bf7\u8f93\u5165\u540e\u9053\u5305\u88c5\u540d\uff01":"\u8bf7\u8f93\u5165\u53d1\u8d27\u5305\u88c5\u540d\uff01",closable:!1,visible:At,footer:[Object(s.jsx)(h.a,{type:"primary",onClick:function(){v?zt(!1):r.b.warning("\u8bf7\u8f93\u5165\u65b9\u6848\u540d\uff01")},children:"\u786e\u5b9a"},"back")],children:Object(s.jsx)(m.a,{onChange:function(t){w(t.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5305\u88c5\u65b9\u6848\u540d\uff1a"})})]})}}).call(this,a(56))},164:function(t,e,a){"use strict";(function(t){var n=a(22),s=a(8),c=a(0),o=a(53),i=a(24),l=a(36),r=a(487),d=a(175),h=a(107),u=a(80),b=a(174),g=a(47),j=a.n(g),p=a(84),m=(a(130),a(472),[{title:"\u6682\u65e0\u6570\u636e"}]);e.a=function(e){localStorage.setItem("ns",1),localStorage.removeItem("n");var a=o.a.Option,g=Object(c.useState)([]),O=Object(n.a)(g,2),f=O[0],x=O[1],y=Object(c.useState)(!1),S=Object(n.a)(y,2),v=S[0],w=S[1],k=Object(c.useState)(!1),I=Object(n.a)(k,2),_=I[0],C=I[1],N=Object(c.useState)("\u9009\u62e9\u529f\u7528"),A=Object(n.a)(N,2),z=A[0],F=A[1],M=Object(c.useState)(!0),V=Object(n.a)(M,2),L=V[0],D=V[1],T=Object(c.useState)(!1),B=Object(n.a)(T,2),E=B[0],J=B[1],H=Object(c.useState)(null),P=Object(n.a)(H,2),R=P[0],q=P[1];return Object(c.useEffect)((function(){"notInDingTalk"!==p.env.platform?p.ready((function(){p.runtime.permission.requestAuthCode({corpId:"dingd3db415677f4c851",onSuccess:function(a){j.a.post(t.constants.website+"/kaopin/bom/getUser",{code:a.code}).then((function(a){var n=a.data.data;localStorage.setItem("token",a.data.data),200===a.status?j.a.post(t.constants.website+"/kaopin/bom/index",{page:1},{headers:{AppAuthorization:n}}).then((function(t){t.data.status?"token error"===t.data.msg?e.history.push({pathname:"/"}):(D(!1),x(t.data.data.result)):(e.history.push({pathname:"/"}),i.b.warning(t.data.msg))})).catch((function(t){i.b.warning(t)})):i.b.warning(a.data.msg)})).catch((function(t){console.log(t)}))},onFail:function(t){alert(t)}}),p.error((function(t){alert("dd error: "+JSON.stringify(t))}))})):i.b.warning("\u8bf7\u5728\u624b\u673a\u4e0a\u6253\u5f00\u64cd\u4f5c\uff01")}),[e.history]),i.b.config({top:"40%"}),Object(s.jsxs)("div",{style:{height:"100%"},children:[Object(s.jsxs)("div",{className:"box",style:{height:"100%"},children:[Object(s.jsxs)("div",{style:{height:"16.5%"},children:[Object(s.jsxs)("div",{className:"list_Header",children:[Object(s.jsx)(l.a,{onClick:function(){localStorage.setItem("n",localStorage.getItem("ns")+1),e.history.push({pathname:"/home",state:2}),localStorage.setItem("state",2),document.title="\u540e\u9053\u5305\u88c5"},className:"select_btn",type:"primary",ghost:!0,children:"\u6dfb\u52a0\u540e\u9053\u5305\u88c5"}),Object(s.jsx)(l.a,{onClick:function(){localStorage.setItem("n",localStorage.getItem("ns")+1),e.history.push({pathname:"/home",state:1}),localStorage.setItem("state",1),document.title="\u53d1\u8d27\u5305\u88c5"},className:"select_btn",type:"primary",ghost:!0,children:"\u6dfb\u52a0\u53d1\u8d27\u5305\u88c5"})]}),Object(s.jsx)(r.a,{}),Object(s.jsxs)("div",{className:"sousuo",children:[Object(s.jsx)(d.a,{style:{width:"160px"},placeholder:"\u8bf7\u8f93\u5165\u65b9\u6848\u540d",onChange:function(a){w(a.target.value),a.target.value||(D(!0),j.a.post(t.constants.website+"/kaopin/bom/index",{page:1},{headers:{AppAuthorization:localStorage.getItem("token")}}).then((function(t){t.data.status?"token error"===t.data.msg?e.history.push({pathname:"/"}):(D(!1),x(t.data.data.result)):i.b.warning(t.data.msg)})).catch((function(t){console.log(t),D(!1)})))}}),Object(s.jsxs)(o.a,{value:z,style:{width:110,marginRight:"5px",marginLeft:"5px"},onChange:function(t){C(t),F(t)},children:[Object(s.jsx)(a,{value:"2",children:"\u540e\u9053"}),Object(s.jsx)(a,{value:"1",children:"\u53d1\u8d27"})]}),Object(s.jsx)(l.a,{onClick:function(){!1===v&&!1===_?i.b.warning("\u8bf7\u8f93\u5165\u65b9\u6848\u540d\u6216\u529f\u7528\uff01"):v&&_?(D(!0),j.a.post(t.constants.website+"/kaopin/bom/index",{page:1,plan_name:v,plan_type:_},{headers:{AppAuthorization:localStorage.getItem("token")}}).then((function(t){t.data.status?t.data.data.result.length?"token error"===t.data.msg?e.history.push({pathname:"/"}):(D(!1),x(t.data.data.result),F("\u9009\u62e9\u529f\u7528"),C(!1)):(D(!1),F("\u9009\u62e9\u529f\u7528"),C(!1),i.b.warning("\u6682\u65e0\u8be5\u6570\u636e\uff01")):i.b.warning(t.data.msg)})).catch((function(t){console.log(t),D(!1)}))):!1===v||_?(D(!0),j.a.post(t.constants.website+"/kaopin/bom/index",{page:1,plan_name:"",plan_type:_},{headers:{AppAuthorization:localStorage.getItem("token")}}).then((function(t){t.data.status?t.data.data.result.length?"token error"===t.data.msg?e.history.push({pathname:"/"}):(D(!1),F("\u9009\u62e9\u529f\u7528"),C(!1),x(t.data.data.result)):(D(!1),F("\u9009\u62e9\u529f\u7528"),C(!1),i.b.warning("\u6682\u65e0\u8be5\u6570\u636e\uff01")):i.b.warning(t.data.msg)})).catch((function(t){console.log(t),D(!1)}))):(D(!0),j.a.post(t.constants.website+"/kaopin/bom/index",{page:1,plan_name:v,plan_type:""},{headers:{AppAuthorization:localStorage.getItem("token")}}).then((function(t){t.data.status?t.data.data.result.length?"token error"===t.data.msg?e.history.push({pathname:"/"}):(D(!1),F("\u9009\u62e9\u529f\u7528"),C(!1),x(t.data.data.result)):(D(!1),F("\u9009\u62e9\u529f\u7528"),C(!1),i.b.warning("\u6682\u65e0\u8be5\u6570\u636e\uff01")):i.b.warning(t.data.msg)})).catch((function(t){console.log(t),D(!1)})))},children:"\u641c\u7d22"})]})]}),Object(s.jsx)("div",{className:"lists",style:{height:"80%"},children:Object(s.jsx)(h.a,{spinning:L,tip:"\u5217\u8868\u52a0\u8f7d\u4e2d...",children:null!==f?Object(s.jsx)(u.b,{style:{height:"100%"},locale:{emptyText:"\u6682\u65e0\u8be5\u6570\u636e"},pagination:{onChange:function(t){},pageSize:8},itemLayout:"horizontal",dataSource:f,renderItem:function(a){return Object(s.jsx)(u.b.Item,{onClick:function(){return n=a.id,D(!0),void j.a.post(t.constants.website+"/kaopin/bom/details",{id:n},{headers:{AppAuthorization:localStorage.getItem("token")}}).then((function(t){t.data.status?"token error"===t.data.msg?e.history.push({pathname:"/"}):(J(!0),D(!1),q(t.data.data)):i.b.warning(t.data.msg)})).catch((function(t){console.log(t)}));var n},style:{padding:"10px 0"},children:Object(s.jsx)(u.b.Item.Meta,{title:a.plan_name,description:a.plan_type+"\u3000\uffe5"+a.total_price})})}}):Object(s.jsx)(u.b,{itemLayout:"horizontal",dataSource:m,renderItem:function(t){return Object(s.jsx)(u.b.Item,{children:Object(s.jsx)(u.b.Item.Meta,{title:Object(s.jsx)("a",{href:"https://ant.design",children:t.plan_name})})})}})})})]}),null!==R?Object(s.jsx)(b.a,{title:R.plan_name,footer:[Object(s.jsx)(l.a,{type:"primary",onClick:function(){J(!1)},children:"\u786e\u5b9a"},"back")],onCancel:function(){J(!1)},visible:E,children:R.details.map((function(t,e){return Object(s.jsxs)("div",{className:"details",children:[Object(s.jsx)("div",{style:{maxWidth:"60px",marginRight:"15px"},children:Object(s.jsx)("img",{src:t.img,alt:"\u8be6\u60c5\u56fe"})}),Object(s.jsx)("p",{children:t.\u7269\u6599\u540d\u79f0+t.\u89c4\u683c+"\uffe5"+t.\u5355\u4ef7+"/"+t.\u5355\u4f4d})]},e)}))}):""]})}}).call(this,a(56))},200:function(t,e,a){},472:function(t,e,a){},482:function(t,e,a){"use strict";a.r(e);var n=a(8),s=(a(0),a(30)),c=a.n(s),o=(a(183),a(167)),i=a(27),l=a(145),r=a(164);var d=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)("div",{style:{height:"100%"},children:[Object(n.jsx)(i.a,{exact:!0,path:"/",component:r.a}),Object(n.jsx)(i.a,{path:"/Home",component:l.a})]})})},h=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,492)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,c=e.getLCP,o=e.getTTFB;a(t),n(t),s(t),c(t),o(t)}))};c.a.render(Object(n.jsx)(d,{}),document.getElementById("root")),h()}},[[482,1,2]]]);
//# sourceMappingURL=main.33daf2b4.chunk.js.map